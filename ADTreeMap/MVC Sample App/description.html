<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,1:ImageSprite;/Areas/Epx/Themes/Msdn/Content:0,/Areas/Epx/Content/Css:1&amp;amp;hashKey=E7560C71640616C5057FAEACB58DCB00" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/2f95808e-ca34-4249-88ff-44fabe33cdc0Combined.css,1:LinkList,2:ImageSprite,2:SiteFeedbackLink;/Areas/Epx/Themes/Msdn/Content:0,/Areas/Epx/Themes/Base/Content:1,/Areas/Epx/Content/Css:2&amp;amp;hashKey=EEE39C2D6B93379FDAF50337BE99AF8C" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>MVC Sample App for Windows Azure Active Directory Graph</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>MVC Sample App for Windows Azure Active Directory Graph</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            JSON, REST, Windows Azure, WCF Data Services, OData, ASP.NET MVC 4, Graph API, windows azure active directory
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            REST, OData, Graph API, windows azure active directory
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Cloud, Data
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary Language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Last Updated</label>
                    <div id="LastUpdated">4/11/2013</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MS-LPL</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Write-Sample-App-for-79e55502">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy Code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p><span style="font-size:x-small">This C# sample application demonstrates how to Read and Write tenant data&nbsp;to Windows Azure Active Directory using the AAD Graph API, which is a new RESTful interface that allows programmatic access to tenant data such
 as users, contacts, groups, roles etc.&nbsp; The Graph API is&nbsp;now GA.&nbsp;Graph service enables developers to incorporate new capabilities with existing applications and to build new applications that leverage directory data access to Windows Azure AD.</span></p>
<p><span style="font-size:x-small">The <a href="http://blogs.msdn.com/b/aadgraphteam/archive/2013/01/24/walk-through-for-building-a-net-application-for-accessing-windows-azure-active-directory-graph-service.aspx">
walk through for building a .Net application</a> on the AAD Graph team blog provides a deep dive into the steps&nbsp;involved in&nbsp;building any .Net application for accessing Graph service. The blog post covers most of the Graph Service related code present
 in this sample.&nbsp;If you are actively using AAD Graph Service or have tried it, we would love to hear feedback from you. The
<a href="http://blogs.msdn.com/b/aadgraphteam/">team blog</a> is a great place to ask any Graph service related questions and provide us feedback.</span></p>
<p><span style="font-size:x-small">The Graph API is compatible with OData V3 and enables applications to construct more complex queries. The sample application authenticates to Graph API by presenting a token that is issued by Windows Azure Access Control Service
 using OAuth 2.0.</span></p>
<p><span style="font-size:x-small"><span style="font-size:x-small">The application is configured and authorized to Read data from a demo company hosted in Windows Azure AD. If you wish to access your own Windows Azure AD tenant or wish to try the Write operations
 (Create, Delete, Update), then you must use your own tenant. You can manage your existing Azure AD tenant or create a new tenant using the Windows Azure Management portal. You can find more information on the topic&nbsp;for managing your directory from Azure
 Management Portal <a href="http://msdn.microsoft.com/library/windowsazure/dn151790.aspx#BKMK_Working">
here</a>. Once you have the tenant, you need to configure the application&nbsp;for for accessing Graph API. The
<a href="http://msdn.microsoft.com/library/windowsazure/dn151791.aspx#BKMK_Configuring">
following topic</a> shows how to enable authentication for accessing Graph API for your application. If you followed the steps in the topic, you will have the Client ID and Key values. Copy these values&nbsp;along with your Tenant Domain Name into the Web.Config
 of the sample application. Client ID maps to AppPrincipalId, Key value to Password in Web.Config. After you have set up these values in web.config, the application should run against your tenant.</span></span></p>
<p><span style="font-size:2em">Building the Sample</span></p>
<p><span style="font-size:x-small">This sample application can be built using Visual Studio 2010 with SP1&nbsp;(or VS 2012).&nbsp; Specifically, the minimum requirement is Microsoft Visual Studio Web Developer Express 2010
<a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-web-developer-express" >
download link</a></span></p>
<p><span style="font-size:x-small">You will also need to install WCF Data Services for Odata 3, which is available from&nbsp;
<a href="http://www.microsoft.com/en-us/download/details.aspx?id=35840">http://www.microsoft.com/en-us/download/details.aspx?id=35840</a><a href="http://www.microsoft.com/download/en/details.aspx?id=29306" >
</a></span></p>
<p><span style="font-size:x-small">You will also need to install ASP.NET MVC 4, which is available from&nbsp;<a href="http://www.microsoft.com/en-us/download/details.aspx?id=30683">http://www.microsoft.com/en-us/download/details.aspx?id=30683</a>&nbsp;</span></p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p><span style="font-size:x-small"><span style="color:black; font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">This C# sample application is an ASP.NET MVC 4 app, which will access the Windows Azure Active Directory Graph API, and query a demo tenant's user information</span><span style="color:black; font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">.
 The full list of capabilities for the Graph API can be found on MSDN (link below).
</span></span></p>
<p>&nbsp;</p>
<p><span style="font-size:20px; font-weight:bold">&nbsp;</span><span style="font-size:x-small"><strong>What you can do with the sample application</strong></span></p>
<ul>
<li>UPDATED: Created a small helper library that contains the Service Reference to the Graph service and some helper methods.
</li><li><span style="font-size:x-small">Edit Group Membership and reset users' passwords.</span>
</li><li><span style="font-size:x-small">Read user and group object information</span>
</li><li><span style="font-size:x-small">Create, Edit and Delete Users - the minimum properties required&nbsp;to create a user are: UserPrincipalName, DisplayName and AccountEnabled=true</span>
</li><li><span style="font-size:x-small">Create, Edit and Delete Security Groups - the minimum properites required to create a group are: Description and DisplayName.</span>
</li><li><span style="font-size:x-small">View and Update Users' thumbnail photo properties</span>
</li></ul>
<div><span style="font-size:x-small"><strong>&nbsp;</strong></span></div>
<h1>More Information and Resources</h1>
<ul>
<li><span style="font-size:x-small">Microsoft Windows Azure Active Directory Graph API and Windows Azure Active Directory:
<a href="http://msdn.microsoft.com/en-us/library/windowsazure/jj673460.aspx">http://msdn.microsoft.com/en-us/library/windowsazure/jj673460.aspx</a></span>
</li></ul>
<ul>
<li><span style="font-size:x-small">Release Notes <a href="http://msdn.microsoft.com/en-us/library/dn168859.aspx">
http://msdn.microsoft.com/en-us/library/dn168859.aspx</a> </span></li><li><span style="font-size:x-small">Graph Explorer:&nbsp; a simple User interface that allows you to query and review results from the Demo company, or your own company:
<a href="http://code.msdn.microsoft.com/Write-Sample-App-for-79e55502/https://GraphExplorer.CloudApp.net " >https://GraphExplorer.CloudApp.net</a></span>
</li><li><span style="font-size:x-small">Graph API Differential Queries &ndash;get directory
</span><span style="font-size:x-small">changes. </span>
<ul>
<li><span style="font-size:x-small">Documentation: <a href="http://msdn.microsoft.com/en-us/library/jj836245.aspx" >
http://msdn.microsoft.com/en-us/library/jj836245.aspx</a></span> </li><li><span style="font-size:x-small">Sample Application: <a href="http://code.msdn.microsoft.com/windowsazure/Sample-App-for-Windows-97eaec90" >
http://code.msdn.microsoft.com/windowsazure/Sample-App-for-Windows-97eaec90</a></span>
</li></ul>
</li></ul>
<ul>
<li>
<div><span style="font-size:x-small">Graph API Metadata endpoint: <a href="http://code.msdn.microsoft.com/Write-Sample-App-for-79e55502/https://Directory.Windows.net/$metadata" >
https://Graph.Windows.net/Contoso.com/$metadata</a></span></div>
</li><li>
<div><span style="font-size:x-small">View Presentations from TechEd June 2012 on the Graph API and Windows Azure Active Directory overview.</span></div>
<ul>
<li>
<div><span style="font-size:x-small">Windows Azure AD Graph API Drill down <a href="http://channel9.msdn.com/events/teched/northamerica/2012/sia322" >
http://channel9.msdn.com/events/teched/northamerica/2012/sia322</a></span></div>
</li><li>
<div><span style="font-size:x-small">A Lap around Windows Azure Active Directory <a href="http://channel9.msdn.com/events/teched/northamerica/2012/sia209" >
http://channel9.msdn.com/events/teched/northamerica/2012/sia209</a></span></div>
</li></ul>
</li></ul>

</div>


    </div>
</body>
</html>
